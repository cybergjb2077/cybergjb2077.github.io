---
title: 一道题
date: 2020-11-13 17:29:48
tags: 随笔
---

# 第三天

今天在leetcode上刷到了自己可以写出的题。

###  二叉树转化为链表

~~~java
public void flatten(TreeNode root) {
        List<TreeNode> list = new ArrayList<>();
        order(root,list);
        int l = list.size();
        for(int i=1;i<l;i++){
            TreeNode pre = list.get(i-1);
            TreeNode cur = list.get(i);
            pre.left = null;
            pre.right = cur;
        }
    }

    public void order(TreeNode root,List<TreeNode> list){
        if(root != null){
        list.add(root);
        order(root.left,list);
        order(root.right,list);
        }
    }
~~~

###  TCP报文之前一直被忽略的部分

#### 三次握手

序号（4字节=32位）：

  37 59 56 75

  用来标识TCP发端向TCP收端发送的数据字节流

确认序号（4字节=32位）：

  由于该报文为SYN报文，ACK标志为0，故没有确认序号（ACK标志为1时确认序号才有效）TCP协议规定，只有ACK=1时有效，也规定连接建立后所有发送的报文的ACK必须为1

  一旦连接建立，该值将始终发送（同ACK标志）

头部长度：该字段占用4位，用来表示报文首部的长度，单位是4Byte。如：headLen = ((packet[12]>>4)&0x0F)*4;

预留6位：长度为6位，作为保留字段，暂时没有什么用处。

 

URG：长1位，表示紧急指针字段有效；

ACK：长1位，置位表示确认号字段有效；TCP协议规定，只有ACK=1时有效，也规定连接建立后所有发送的报文的ACK必须为1

PSH：长1位，表示当前报文需要请求推（push）操作；

RST：长1位，置位表示复位TCP连接；

SYN：长1位，在连接建立时用来同步序号。当SYN=1而ACK=0时，表明这是一个连接请求报文。对方若同意建立连接，则应在响应报文中使SYN=1和ACK=1. 因此,SYN置1就表示这是一个连接请求或连接接受报文。

FIN：长1位，用于释放TCP连接时标识发送方比特流结束；即完，终结的意思， 用来释放一个连接。当 FIN = 1时，表明此报文段的发送方的数据已经发送完毕，并要求释放连接。

窗口大小：长度为16位，2个字节。

校验和：长度为16位，2个字节。

紧急指针：长度为16位，2个字节。

以上是TCP包头必须要有的字段，也称固有字段，长度为20个字节。

 ![img](https://images2015.cnblogs.com/blog/964016/201608/964016-20160829221352886-141830767.png) 

#### 四次挥手

 ![img](https://images2015.cnblogs.com/blog/964016/201608/964016-20160829222234683-593863018.png) 